import{e as v,s as k,o as a,g as i,j as S,E as C,t as $,q as c,k as M,f as I,u as O,p as r,m as B,T as P,F as w,C as E,v as T,n as W}from"./vue.esm-bundler-69a57796.js";import{B as N}from"./button-e7d6b88c.js";import{r as u}from"./helper-91f3687e.js";import{_ as b}from"./_plugin-vue_export-helper-c27b6911.js";import"./tooltip-524fe5d5.js";const g=v({props:{color:{default:"default",type:String},disabled:{default:!1,type:Boolean},label:{required:!1,type:String},noElevation:{required:!1,type:Boolean},open:{required:!1,type:Boolean},size:{default:"base",type:String},tooltip:{required:!1,type:String},variant:{default:"contained",type:String}},name:"sb-menu",components:{"sb-button":N},data(){return{localOpen:!1,itemsWrapperStyles:[],parentWithScroll:null}},methods:{handleClose(e){const t=e.target,n=this.$refs["menu-wrapper"];t&&n&&!n.contains(t)&&!t.isSameNode(n)&&(this.localOpen=!1)},handleOpen(){this.disabled||(this.localOpen=!0,this.$nextTick(()=>{this.setPopupPosition()}))},handleParentScroll(e){const t=u(this.$el);this.parentWithScroll&&this.parentWithScroll.removeEventListener("scroll",()=>{this.setPopupPosition()}),t&&(e?t.addEventListener("scroll",()=>{this.setPopupPosition()}):t.removeEventListener("scroll",()=>{this.setPopupPosition()})),this.$nextTick(()=>{this.parentWithScroll=t})},setPopupPosition(){var t;const e=this.$refs["menu-wrapper"];if(e){const n=e.getBoundingClientRect(),o=(t=this.$refs["menu-items-wrapper"])==null?void 0:t.getBoundingClientRect();if(o)return document.body.getBoundingClientRect().height-(n.height+n.y)<=o.height?this.itemsWrapperStyles={left:`${n.x}px`,top:`${n.y-6-o.height}px`,width:`${n.width}px`}:this.itemsWrapperStyles={left:`${n.x}px`,top:`${n.y+n.height}px`,width:`${n.width}px`}}}},watch:{localOpen(e){this.handleParentScroll(e)}},mounted(){this.localOpen=this.open,this.$nextTick(()=>this.setPopupPosition()),document.addEventListener("click",e=>this.handleClose(e)),this.parentWithScroll=u(this.$el)},unmounted(){document.removeEventListener("click",e=>this.handleClose(e)),this.parentWithScroll&&this.parentWithScroll.removeEventListener("scroll",()=>{this.setPopupPosition()})}});function q(e,t,n,o,p,_){const l=k("sb-button");return a(),i(w,null,[S("div",c({class:"menu-wrapper",ref:"menu-wrapper"},{...e.$attrs}),[C(l,c({"no-elevation":e.localOpen||e.noElevation,type:"button"},{color:e.color,disabled:e.disabled,size:e.size,tooltip:e.tooltip,variant:e.variant},{onClick:M(e.handleOpen,["stop"])}),{default:$(()=>[r(e.$slots,"slot-label",{},()=>[E(T(e.label||"..."),1)],!0)]),_:3},16,["no-elevation","onClick"])],16),(a(),I(P,{to:"body"},[e.localOpen?(a(),i("div",{key:0,class:"menu-items-wrapper",ref:"menu-items-wrapper",style:O(e.itemsWrapperStyles)},[r(e.$slots,"default",{},void 0,!0)],4)):B("",!0)]))],64)}const d=b(g,[["render",q],["__scopeId","data-v-05568b23"]]);g.__docgenInfo={displayName:"sb-menu",exportName:"default",description:"",tags:{},props:[{name:"color",values:["accent","default","primary","info","secondary","warning","success","danger"],type:{name:"string"},defaultValue:{func:!1,value:"'default'"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"label",type:{name:"string"},required:!1},{name:"noElevation",type:{name:"boolean"},required:!1},{name:"open",type:{name:"boolean"},required:!1},{name:"size",values:["base","large","small"],type:{name:"string"},defaultValue:{func:!1,value:"'base'"}},{name:"tooltip",type:{name:"string"},required:!1},{name:"variant",values:["contained","outlined","text"],type:{name:"string"},defaultValue:{func:!1,value:"'contained'"}}],slots:[{name:"slot-label"},{name:"default"}],sourceFiles:["/Users/edgar/Documents/private-projects/vue-base-lib/src/components/menu/menu.vue"]};const y=v({emits:{click:e=>!0},name:"sb-menu-item",data(){return{isClicked:!1}},methods:{handleClick(e){const t=e;this.isClicked=!0,setTimeout(()=>{this.isClicked=!1},200),this.$emit("click",t)}}});function D(e,t,n,o,p,_){return a(),i("div",{class:W(["menu-item",{clicked:e.isClicked}]),onClick:t[0]||(t[0]=(...l)=>e.handleClick&&e.handleClick(...l))},[r(e.$slots,"default",{},void 0,!0)],2)}const x=b(y,[["render",D],["__scopeId","data-v-16ec705f"]]);y.__docgenInfo={displayName:"sb-menu-item",exportName:"default",description:"",tags:{},events:[{name:"click",type:{names:["undefined"]}}],slots:[{name:"default"}],sourceFiles:["/Users/edgar/Documents/private-projects/vue-base-lib/src/components/menu-item/menu-item.vue"]};const{UPDATE_STORY_ARGS:R}=__STORYBOOK_MODULE_CORE_EVENTS__,j={title:"Components/Menu",component:d,tags:["autodocs"],argTypes:{color:{control:"select",description:"Button color",options:["accent","default","primary","info","secondary","warning","success","danger"]},disabled:{control:"boolean",description:"Is Button disabled"},label:{control:"text",description:"Menu button label"},noElevation:{control:"boolean",description:"Button has elevation or not (default: true)"},open:{control:"boolean",description:"Set Menu is open or not"},size:{control:"select",description:"Button sizes",options:["base","large","small"]},tooltip:{control:"text",description:"Button tooltip"},variant:{control:"select",description:"Button variants",options:["contained","outlined","text"]}},args:{label:"Menu Prop",open:!1},parameters:{docs:{controls:{sort:"requiredFirst"}},slots:{"slot-label":{description:"Menu button label slot component will render this over label prop"},default:{description:"Menu item slot"}}},render:(e,{id:t})=>({components:{Menu:d,MenuItem:x},setup(){return{args:e,onClickItem:()=>{window.__STORYBOOK_ADDONS_CHANNEL__.emit(R,{storyId:t,updatedArgs:{open:!1}})}}},template:`
            <div style="height: 20rem; display: flex; justify-content: center; padding-top: 2rem;">
                <Menu v-bind="args">
                    <template v-slot:slot-label>Menu Slot</template>
                    <MenuItem @click="onClickItem">Menu 1</MenuItem>
                    <MenuItem @click="onClickItem">Menu 2</MenuItem>
                    <MenuItem @click="onClickItem">Menu 3</MenuItem>
                    <MenuItem @click="onClickItem">Menu 4</MenuItem>
                </Menu>
            </div>
        `})},s={args:{}};var m,f,h;s.parameters={...s.parameters,docs:{...(m=s.parameters)==null?void 0:m.docs,source:{originalSource:`{
  args: {}
}`,...(h=(f=s.parameters)==null?void 0:f.docs)==null?void 0:h.source}}};const U=["Default"];export{s as Default,U as __namedExportsOrder,j as default};

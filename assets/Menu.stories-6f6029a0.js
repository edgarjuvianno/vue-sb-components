import{e as b,s as C,o as l,g as i,j as c,H as I,t as S,q as $,k as u,f as P,p as r,u as O,m as B,T as w,z as E,A as T,E as W,v as N,n as q}from"./vue.esm-bundler-38397e95.js";import{B as z}from"./button-00899872.js";import{r as d}from"./helper-91f3687e.js";import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";import"./tooltip-7b123e02.js";const y=b({props:{color:{default:"default",type:String},disabled:{default:!1,type:Boolean},label:{required:!1,type:String},noElevation:{required:!1,type:Boolean},open:{required:!1,type:Boolean},size:{default:"base",type:String},tooltip:{required:!1,type:String},variant:{default:"contained",type:String}},name:"sb-menu",components:{"sb-button":z},data(){return{localOpen:!1,itemsWrapperStyles:[],parentWithScroll:null}},methods:{handleClose(){this.localOpen=!1},handleOpen(){this.disabled||(this.localOpen=!0,this.$nextTick(()=>{this.setPopupPosition()}))},handleParentScroll(e){const t=d(this.$el);this.parentWithScroll&&this.parentWithScroll.removeEventListener("scroll",()=>{this.setPopupPosition()}),t&&(e?t.addEventListener("scroll",()=>{this.setPopupPosition()}):t.removeEventListener("scroll",()=>{this.setPopupPosition()})),this.$nextTick(()=>{this.parentWithScroll=t})},setPopupPosition(){var t;const e=this.$refs["menu-wrapper"];if(e){const n=e.getBoundingClientRect(),o=(t=this.$refs["menu-items-wrapper"])==null?void 0:t.getBoundingClientRect();if(o)return document.body.getBoundingClientRect().height-(n.height+n.y)<=o.height?this.itemsWrapperStyles={left:`${n.x}px`,top:`${n.y-6-o.height}px`,width:`${n.width}px`}:this.itemsWrapperStyles={left:`${n.x}px`,top:`${n.y+n.height}px`,width:`${n.width}px`}}}},watch:{localOpen(e){this.handleParentScroll(e)}},mounted(){this.localOpen=this.open,this.$nextTick(()=>this.setPopupPosition()),this.parentWithScroll=d(this.$el)},unmounted(){this.parentWithScroll&&this.parentWithScroll.removeEventListener("scroll",()=>{this.setPopupPosition()})}});const D={class:"menu-wrapper",ref:"menu-wrapper"};function R(e,t,n,o,p,M){const a=C("sb-button");return l(),i("div",E(T({...e.$attrs})),[c("div",D,[I(a,$({"no-elevation":e.localOpen||e.noElevation,type:"button"},{color:e.color,disabled:e.disabled,size:e.size,tooltip:e.tooltip,variant:e.variant},{onClick:u(e.handleOpen,["stop"])}),{default:S(()=>[r(e.$slots,"slot-label",{},()=>[W(N(e.label||"..."),1)],!0)]),_:3},16,["no-elevation","onClick"])],512),(l(),P(w,{to:"body"},[e.localOpen?(l(),i("div",{key:0,class:"menu-backdrop",onClick:t[0]||(t[0]=u((..._)=>e.handleClose&&e.handleClose(..._),["stop"]))},[c("div",{class:"menu-items-wrapper",ref:"menu-items-wrapper",style:O(e.itemsWrapperStyles)},[r(e.$slots,"default",{},void 0,!0)],4)])):B("",!0)]))],16)}const m=g(y,[["render",R],["__scopeId","data-v-51c3b940"]]);y.__docgenInfo={displayName:"sb-menu",exportName:"default",description:"",tags:{},props:[{name:"color",values:["accent","default","primary","info","secondary","warning","success","danger"],type:{name:"string"},defaultValue:{func:!1,value:"'default'"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"label",type:{name:"string"},required:!1},{name:"noElevation",type:{name:"boolean"},required:!1},{name:"open",type:{name:"boolean"},required:!1},{name:"size",values:["base","large","small"],type:{name:"string"},defaultValue:{func:!1,value:"'base'"}},{name:"tooltip",type:{name:"string"},required:!1},{name:"variant",values:["contained","outlined","text"],type:{name:"string"},defaultValue:{func:!1,value:"'contained'"}}],slots:[{name:"slot-label"},{name:"default"}],sourceFiles:["/Users/edgar/Documents/private-projects/vue-base-lib/src/components/menu/menu.vue"]};const k=b({emits:{click:e=>!0},name:"sb-menu-item",data(){return{isClicked:!1}},methods:{handleClick(e){const t=e;this.isClicked=!0,setTimeout(()=>{this.isClicked=!1},200),this.$emit("click",t)}}});function x(e,t,n,o,p,M){return l(),i("div",{class:q(["menu-item",{clicked:e.isClicked}]),onClick:t[0]||(t[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[r(e.$slots,"default",{},void 0,!0)],2)}const V=g(k,[["render",x],["__scopeId","data-v-16ec705f"]]);k.__docgenInfo={displayName:"sb-menu-item",exportName:"default",description:"",tags:{},events:[{name:"click",type:{names:["undefined"]}}],slots:[{name:"default"}],sourceFiles:["/Users/edgar/Documents/private-projects/vue-base-lib/src/components/menu-item/menu-item.vue"]};const{UPDATE_STORY_ARGS:A}=__STORYBOOK_MODULE_CORE_EVENTS__,H={title:"Components/Menu",component:m,tags:["autodocs"],argTypes:{color:{control:"select",description:"Button color",options:["accent","default","primary","info","secondary","warning","success","danger"]},disabled:{control:"boolean",description:"Is Button disabled"},label:{control:"text",description:"Menu button label"},noElevation:{control:"boolean",description:"Button has elevation or not (default: true)"},open:{control:"boolean",description:"Set Menu is open or not"},size:{control:"select",description:"Button sizes",options:["base","large","small"]},tooltip:{control:"text",description:"Button tooltip"},variant:{control:"select",description:"Button variants",options:["contained","outlined","text"]}},args:{label:"Menu Prop",open:!1},parameters:{docs:{controls:{sort:"requiredFirst"}},slots:{"slot-label":{description:"Menu button label slot component will render this over label prop"},default:{description:"Menu item slot"}}},render:(e,{id:t})=>({components:{Menu:m,MenuItem:V},setup(){return{args:e,onClickItem:()=>{window.__STORYBOOK_ADDONS_CHANNEL__.emit(A,{storyId:t,updatedArgs:{open:!1}})}}},template:`
            <div style="align-items: center; height: 40rem; display: flex; gap: 10rem; flex-flow: column; justify-content: flex-start; padding-top: 2rem;">
                <Menu v-bind="args">
                    <template v-slot:slot-label>Menu Slot</template>
                    <MenuItem @click="onClickItem">Menu 1</MenuItem>
                    <MenuItem @click="onClickItem">Menu 2</MenuItem>
                    <MenuItem @click="onClickItem">Menu 3</MenuItem>
                    <MenuItem @click="onClickItem">Menu 4</MenuItem>
                </Menu>
                <Menu v-bind="args">
                    <template v-slot:slot-label>Menu Slot</template>
                    <MenuItem @click="onClickItem">Menu 1</MenuItem>
                    <MenuItem @click="onClickItem">Menu 2</MenuItem>
                    <MenuItem @click="onClickItem">Menu 3</MenuItem>
                    <MenuItem @click="onClickItem">Menu 4</MenuItem>
                </Menu>
            </div>
        `})},s={args:{}};var f,h,v;s.parameters={...s.parameters,docs:{...(f=s.parameters)==null?void 0:f.docs,source:{originalSource:`{
  args: {}
}`,...(v=(h=s.parameters)==null?void 0:h.docs)==null?void 0:v.source}}};const K=["Default"];export{s as Default,K as __namedExportsOrder,H as default};

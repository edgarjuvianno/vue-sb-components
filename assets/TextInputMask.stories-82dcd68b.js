import{e as j,J as z,o,g as r,j as s,n as i,v as b,m as u,k as H,p as K,z as Y,B as P,q as I,F as k,C as G,h as J}from"./vue.esm-bundler-69a57796.js";import{U as Q}from"./maska-82a16b27.js";import{_ as W}from"./_plugin-vue_export-helper-c27b6911.js";const A=j({emits:{"update:modelValue":e=>!0,blur:e=>!0,focus:e=>!0,input:e=>!0,keydown:e=>!0},props:{autocomplete:{default:"on",type:String},disabled:{required:!1,type:Boolean},errorMessage:{required:!1,type:[String,Function]},icon:{required:!1,type:Object},isError:{required:!1,type:Boolean},isFocus:{required:!1,type:Boolean},label:{required:!1,type:String},maskaOptions:{required:!1,type:Object},modelValue:{required:!1,type:null},pattern:{required:!1,type:String},placeholder:{required:!1,type:String},readOnly:{required:!1,type:Boolean},required:{required:!1,type:Boolean},tabindex:{required:!1,type:Number},textAlign:{default:"left",type:String},value:{required:!1,type:null},variant:{default:"default",required:!1,type:String}},name:"sb-form-input",directives:{maska:Q},data(){return{localIsFocus:!1,localValue:this.modelValue||this.value||null}},computed:{getMaskaOptions(){return{...this.pattern&&{mask:this.pattern},...this.maskaOptions&&{...this.maskaOptions}}},isFilled(){return this.localValue&&(this.localValue!==""||this.localValue.length)}},methods:{handleBlur(e){this.localIsFocus=!1,this.$emit("blur",e)},handleChange(e){this.$emit("input",e),this.$emit("update:modelValue",this.localValue)},handleClickIcon(e){var n;return((n=this.icon)==null?void 0:n.onClick)&&this.icon.onClick(e)},handleClickOutsideInput(e){const n=e.target,a=this.$refs["input-wrapper"];n&&a&&!a.contains(n)&&!n.isSameNode(a)&&this.toggleFocus(!1)},handleErrorMessage(){return this.errorMessage?typeof this.errorMessage=="string"?this.errorMessage:this.errorMessage(this.localValue):""},handleInputFocus(e){this.localIsFocus=!0,this.$emit("focus",e)},handleMouseLeaveIcon(e){var n;return((n=this.icon)==null?void 0:n.onMouseLeave)&&this.icon.onMouseLeave(e)},handleMouseOverIcon(e){var n;return((n=this.icon)==null?void 0:n.onMouseOver)&&this.icon.onMouseOver(e)},toggleFocus(e,n){if(n){const a=n.target,l=a==null?void 0:a.querySelectorAll("input");l.length>0&&l[0].focus()}this.localIsFocus=e}},watch:{isFocus(e){this.localIsFocus=e},modelValue:{handler(e){this.localValue=e}},value:{handler(e){this.localValue=e}}},mounted(){document.addEventListener("click",e=>this.handleClickOutsideInput(e))},unmounted(){document.removeEventListener("click",e=>this.handleClickOutsideInput(e))}});const X={key:0,class:"asterisk"},Z=["tabindex"],_={class:"input-border"},x={class:"notch"},ee={key:0,class:"asterisk"},ne={key:0,class:"error-wrapper"},te=["innerHTML"];function ae(e,n,a,l,g,oe){var y,h,v;const U=z("maska");return o(),r("div",I({class:["input-wrapper",{error:e.isError,flat:e.variant==="flat"}],ref:"input-wrapper"},{...e.$attrs}),[s("div",{class:i(["input-group",{disabled:e.disabled,filled:e.isFilled,focus:e.isFocus||e.localIsFocus,icon_append:((y=e.icon)==null?void 0:y.placement)==="append",icon_prepend:((h=e.icon)==null?void 0:h.placement)==="prepend",readonly:e.readOnly}])},[e.label?(o(),r("label",{key:0,class:i(["label",{required:e.required}])},[s("span",null,b(e.label),1),e.required?(o(),r("span",X,"*")):u("",!0)],2)):u("",!0),e.icon?(o(),r("span",{key:1,class:i([{"sb-cursor-pointer":(v=e.icon)==null?void 0:v.onClick},"icon"]),onClick:n[0]||(n[0]=H((...t)=>e.handleClickIcon&&e.handleClickIcon(...t),["stop"])),onMouseover:n[1]||(n[1]=(...t)=>e.handleMouseOverIcon&&e.handleMouseOverIcon(...t)),onMouseleave:n[2]||(n[2]=(...t)=>e.handleMouseLeaveIcon&&e.handleMouseLeaveIcon(...t))},[K(e.$slots,"icon-slot")],34)):u("",!0),s("div",{class:i(["form-control",["text",e.textAlign]]),onClick:n[8]||(n[8]=t=>e.toggleFocus(!0,t))},[Y(s("input",I({tabindex:e.readOnly||e.disabled?-1:e.tabindex,type:"text","onUpdate:modelValue":n[3]||(n[3]=t=>e.localValue=t)},{autocomplete:e.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readOnly},{onBlur:n[4]||(n[4]=t=>e.handleBlur(t)),onFocus:n[5]||(n[5]=t=>e.handleInputFocus(t)),onInput:n[6]||(n[6]=t=>e.handleChange(t)),onKeydown:n[7]||(n[7]=t=>e.$emit("keydown",t))}),null,16,Z),[[U,void 0,e.getMaskaOptions],[P,e.localValue]])],2),s("fieldset",_,[s("legend",x,[s("span",{class:i(["notch-label",{"no-label":!e.label||e.label===""}])},[e.label&&e.label!==""?(o(),r(k,{key:0},[s("span",null,b(e.label),1),e.required?(o(),r("span",ee,"*")):u("",!0)],64)):(o(),r(k,{key:1},[G("â€‹")],64))],2)])])],2),e.isError&&e.errorMessage?(o(),r("div",ne,[s("span",{innerHTML:e.handleErrorMessage()},null,8,te)])):u("",!0)],16)}const R=W(A,[["render",ae]]);A.__docgenInfo={displayName:"sb-form-input",exportName:"default",description:"",tags:{},props:[{name:"autocomplete",values:["off","on"],type:{name:"string"},defaultValue:{func:!1,value:"'on'"}},{name:"disabled",type:{name:"boolean"},required:!1},{name:"errorMessage",type:{name:"string|func"},required:!1},{name:"icon",type:{name:"IIcon"},required:!1},{name:"isError",type:{name:"boolean"},required:!1},{name:"isFocus",type:{name:"boolean"},required:!1},{name:"label",type:{name:"string"},required:!1},{name:"maskaOptions",type:{name:"IMaskaOptions"},required:!1},{name:"modelValue",type:{name:"string | null"},required:!1},{name:"pattern",type:{name:"string"},required:!1},{name:"placeholder",type:{name:"string"},required:!1},{name:"readOnly",type:{name:"boolean"},required:!1},{name:"required",type:{name:"boolean"},required:!1},{name:"tabindex",type:{name:"number"},required:!1},{name:"textAlign",values:["left","right"],type:{name:"string"},defaultValue:{func:!1,value:"'left'"}},{name:"value",type:{name:"string | null"},required:!1},{name:"variant",values:["default","flat"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'default'"}}],events:[{name:"keydown"},{name:"update:modelValue",type:{names:["undefined"]}},{name:"blur",type:{names:["undefined"]}},{name:"focus",type:{names:["undefined"]}},{name:"input",type:{names:["undefined"]}}],slots:[{name:"icon-slot"}],sourceFiles:["/Users/edgar/Documents/private-projects/vue-base-lib/src/components/form-input-mask/form-input-mask.vue"]};const{UPDATE_STORY_ARGS:se}=__STORYBOOK_MODULE_CORE_EVENTS__,ue={title:"Forms/Text Input Mask",component:R,tags:["autodocs"],argTypes:{"onUpdate:modelValue":{action:"change",control:!1,description:"This event fired when input value changed",table:{category:"events",type:{summary:"(value: string | null) => void"}},type:"function"},autocomplete:{control:"text",description:"Is Input autocomplete on/off"},disabled:{control:"boolean",description:"Is Input disabled"},errorMessage:{control:"text",description:"Input error message"},icon:{control:"object",description:"Input Icon configurations"},isError:{control:"boolean",description:"Is Input validation error"},isFocus:{control:"boolean",description:"Trigger input focus"},label:{control:"text",description:"Input label"},maskaOptions:{control:"object",description:"Maska input mask configurations. For more info please visit https://beholdr.github.io/maska/#/"},modelValue:{control:"text",description:"Input value"},onBlur:{action:"change",control:!1,description:"This event fired when on blur",table:{category:"events",type:{summary:"(event: Event) => void"}},type:"function"},onFocus:{action:"change",control:!1,description:"This event fired when on focus",table:{category:"events",type:{summary:"(event: Event) => void"}},type:"function"},onInput:{action:"change",control:!1,description:"This event fired when input value changed",table:{category:"events",type:{summary:"(event: Event) => void"}},type:"function"},onKeydown:{action:"change",control:!1,description:"This event fired when on keydown",table:{category:"events",type:{summary:"(event: Event) => void"}},type:"function"},placeholder:{control:"text",description:"Input placeholder"},readOnly:{control:"boolean",description:"Is Input read-only"},required:{control:"boolean",description:"Is Input required"},tabindex:{control:"number",description:"Input tab-index"},textAlign:{control:"select",description:"Input text align",options:["left","right"]},value:{control:"text",description:"Input value"},variant:{control:"select",description:"Input style",options:["default","flat"]}},args:{label:"Some Text Input",maskaOptions:{mask:"+62 #### #### ####"},modelValue:null},decorators:[(e,n)=>(delete n.args.onChange,delete n.args.onInput,delete n.args["onUpdate:modelValue"],n.args.onInput=a=>{const l=a.target.value;window.__STORYBOOK_ADDONS_CHANNEL__.emit(se,{storyId:n.id,updatedArgs:{modelValue:l}})},e())],parameters:{docs:{controls:{exclude:["blur","change","focus","input","keydown","update:modelValue"],sort:"requiredFirst"}},slots:{"icon-slot":{description:"Input icon slot"}}}},d={args:{}},p={args:{disabled:!0}},c={args:{readOnly:!0}},m={args:{errorMessage:"Some Error Message",isError:!0}},f={args:{icon:{placement:"append"}},render:e=>({components:{TextInputMask:R},setup(){const n=J("svg",{class:"sb-icon magnifying-glass",innerHTML:'<path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>',viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"});return{args:e,icon:n}},template:`
            <TextInputMask v-bind="args">
                <template v-slot:icon-slot>
                    <component :is="icon" />
                </template>
            </TextInputMask>
        `})};var M,q,O;d.parameters={...d.parameters,docs:{...(M=d.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {}
}`,...(O=(q=d.parameters)==null?void 0:q.docs)==null?void 0:O.source}}};var w,V,S;p.parameters={...p.parameters,docs:{...(w=p.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    disabled: true
  }
}`,...(S=(V=p.parameters)==null?void 0:V.docs)==null?void 0:S.source}}};var E,F,T;c.parameters={...c.parameters,docs:{...(E=c.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    readOnly: true
  }
}`,...(T=(F=c.parameters)==null?void 0:F.docs)==null?void 0:T.source}}};var C,B,L;m.parameters={...m.parameters,docs:{...(C=m.parameters)==null?void 0:C.docs,source:{originalSource:`{
  args: {
    errorMessage: 'Some Error Message',
    isError: true
  }
}`,...(L=(B=m.parameters)==null?void 0:B.docs)==null?void 0:L.source}}};var D,$,N;f.parameters={...f.parameters,docs:{...(D=f.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    icon: {
      placement: 'append'
    }
  },
  render: args => ({
    components: {
      TextInputMask
    },
    setup() {
      const icon: any = h('svg', {
        class: 'sb-icon magnifying-glass',
        innerHTML: '<path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>',
        viewBox: '0 0 512 512',
        xmlns: 'http://www.w3.org/2000/svg'
      });
      return {
        args,
        icon
      };
    },
    template: \`
            <TextInputMask v-bind="args">
                <template v-slot:icon-slot>
                    <component :is="icon" />
                </template>
            </TextInputMask>
        \`
  })
}`,...(N=($=f.parameters)==null?void 0:$.docs)==null?void 0:N.source}}};const de=["Default","Disabled","ReadOnly","Error","Icon"];export{d as Default,p as Disabled,m as Error,f as Icon,c as ReadOnly,de as __namedExportsOrder,ue as default};
